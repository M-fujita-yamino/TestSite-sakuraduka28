<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¡œå¡šé«˜æ ¡ç¬¬28æœŸåŒæœŸä¼šãƒšãƒ¼ã‚¸</title>
    <link href="https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic:wght@400;700&display=swap" rel="stylesheet">
    <style>
        /* åŸºæœ¬ãƒ‡ã‚¶ã‚¤ãƒ³ */
        body { opacity: 0; transition: opacity 0.8s ease-in; }
        html { scroll-behavior: auto !important; }

        body {
            font-family: 'Zen Maru Gothic', "Hiragino Maru Gothic ProN", "Yu Gothic", sans-serif;
            background-color: #ffeef5;
            background-image: radial-gradient(#ffdde1 15%, transparent 16%), radial-gradient(#ffdde1 15%, transparent 16%);
            background-size: 60px 60px; background-position: 0 0, 30px 30px;
            color: #555; margin: 0; padding: 0; line-height: 1.8; padding-bottom: 80px; overflow-x: hidden;
        }

        .sakura-container { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 9999; }
        .sakura-petal { position: absolute; background-color: #ffc0cb; border-radius: 150% 0 150% 0; animation: sakura-fall linear forwards; }
        @keyframes sakura-fall {
            0% { transform: translate(0, -10%) rotate(0deg); opacity: 0; }
            10% { opacity: 0.9; }
            90% { opacity: 0.9; }
            100% { transform: translate(150px, 110vh) rotate(720deg); opacity: 0; }
        }

        .container {
            position: relative; z-index: 100; box-sizing: border-box; 
            max-width: 720px; margin: 0 auto; background-color: rgba(255, 255, 255, 0.96);
            padding: 20px; box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1); min-height: 100vh; backdrop-filter: blur(2px);
        }

        .side-img { position: fixed; z-index: 0; pointer-events: none; width: calc(50vw - 360px); height: auto; }
        .img-left { top: 0; left: 0; }
        .img-right { bottom: 0; right: 0; }

        .bg-credit {
            position: fixed; z-index: 200; bottom: 20px;
            background: rgba(165, 29, 77, 0.7); color: #fff;
            padding: 5px 15px; font-size: 11px; font-weight: 700;
            letter-spacing: 0.1em; border-radius: 4px; pointer-events: none;
        }
        .bg-credit-left { left: 20px; }
        .bg-credit-right { right: 20px; }

        @media (max-width: 800px) { .side-img, .bg-credit { display: none; } }

        header { 
            text-align: center; padding: 45px 15px; margin: -20px -20px 30px -20px;
            background-color: #a51d4d; border-bottom-left-radius: 20px; border-bottom-right-radius: 20px;
            display: flex; flex-direction: column; align-items: center; gap: 15px;
        }
        .header-title { color: #ffffff; font-size: 2.4em; margin: 0; font-weight: 700; letter-spacing: 0.08em; }

        .music-controls { display: flex; gap: 10px; flex-wrap: wrap; justify-content: center; }
        .music-btn {
            background: rgba(255, 255, 255, 0.2); border: 2px solid #fff; color: #fff;
            padding: 6px 15px; border-radius: 20px; cursor: pointer; font-size: 13px; font-weight: 700;
            transition: all 0.3s; display: flex; align-items: center; gap: 5px;
        }
        .music-btn.playing { background: #ff8da1; border-color: #ff8da1; box-shadow: 0 0 10px rgba(255,141,161,0.5); }

        .contents-index { margin: 10px auto 40px auto; padding: 25px; max-width: 90%; background: #fff; border: 2px dashed #ffb7c5; border-radius: 25px; text-align: left; }
        .contents-index a { color: #555; text-decoration: none; font-size: 15px; font-weight: 700; }

        .section-header { text-align: center; margin: 60px 0 30px 0; display: flex; flex-direction: column; align-items: center; gap: 15px; scroll-margin-top: 20px; }
        .oval-title {
            display: inline-block; padding: 15px 30px; border: 2px solid #ffb7c5;
            border-radius: 60px; background-color: #fff; color: #ff8da1;
            font-weight: 700; font-size: 16px;
        }

        /* ãƒªã‚¹ãƒˆã‚¹ã‚¿ã‚¤ãƒ« */
        .video-list { list-style: none; padding: 0; margin-bottom: 45px; }
        .video-item {
            display: flex; align-items: center; background: #fff; margin-bottom: 12px;
            padding: 12px; border-radius: 18px; border-left: 8px solid #ffb7c5;
            box-shadow: 0 3px 6px rgba(0,0,0,0.05); gap: 15px;
        }
        .video-thumb { width: 110px; height: 70px; border-radius: 12px; overflow: hidden; background-color: #f0f0f0; flex-shrink: 0; }
        .video-thumb img { width: 100%; height: 100%; object-fit: cover; }
        .video-no { font-weight: 700; color: #d65f82; font-size: 1.2em; width: 45px; text-align: center; }
        .video-info { flex-grow: 1; }
        .video-title { font-weight: 700; font-size: 1em; color: #333; line-height: 1.3; }
        .creator-tag { font-size: 0.75em; color: #a51d4d; background: #ffeef5; padding: 2px 10px; border-radius: 10px; margin-top: 5px; display: inline-block; font-weight: 700; }
        .play-btn { display: inline-block; background-color: #ff8da1; color: white; text-decoration: none; padding: 8px 18px; border-radius: 40px; font-weight: 700; font-size: 12px; }

        /* æ¤œç´¢UI (é«˜å¯†åº¦) */
        .search-area { background: #fff; padding: 20px; border-radius: 20px; border: 2px solid #ffb7c5; margin-bottom: 30px; }
        .search-controls { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin-top: 10px; }
        .search-box { padding: 8px 12px; border: 1px solid #ccc; border-radius: 20px; font-size: 14px; box-sizing: border-box; width: 100%; }
        .full-width { grid-column: span 2; }
        .search-result { margin-top: 15px; border-top: 1px solid #eee; }
        .result-item { padding: 4px 8px; border-bottom: 1px solid #f0f0f0; display: flex; align-items: center; justify-content: space-between; min-height: 38px; }
        .result-info { display: flex; align-items: baseline; gap: 8px; flex: 1; }
        .result-name { font-weight: 700; font-size: 0.95em; }
        .result-kana { font-size: 0.65em; color: #999; }
        .gender-tag { font-size: 0.6em; padding: 1px 4px; border-radius: 3px; font-weight: 700; }
        .gender-m { background: #e3f2fd; color: #1976d2; }
        .gender-f { background: #fce4ec; color: #d81b60; }
        .class-btn { background: #87ceeb; color: white; text-decoration: none; padding: 2px 6px; border-radius: 4px; font-size: 10px; font-weight: 700; margin-left: 3px; white-space: nowrap; }

        footer { text-align: center; margin-top: 70px; font-size: 12px; color: #999; }
    </style>
</head>
<body>

<div id="sakura-container" class="sakura-container"></div>

<audio id="audio_okamachi" loop src="å²¡ç”ºå•†åº—è¡—ã®å”„.mp3"></audio>
<audio id="audio_kouka" loop src="æ¡œå¡šæ ¡æ­Œ.mp3"></audio>
<video src="äºŒäººã§ãŠè¾å„€.mp4" class="side-img img-left" autoplay loop muted playsinline preload="none"></video>
<video src="äºŒäººã§è¸Šã‚‹å‹•ç”».mp4" class="side-img img-right" autoplay loop muted playsinline preload="none"></video>
<div class="bg-credit bg-credit-left">Costume by åŒ—å†…å­å­ã•ã‚“</div>
<div class="bg-credit bg-credit-right">Costume by åŒ—å†…å­å­ã•ã‚“</div>

<div class="container">
    <header>
        <h1 class="header-title">æ¡œå¡šé«˜æ ¡ç¬¬28æœŸåŒæœŸä¼šãƒšãƒ¼ã‚¸</h1>
        <div class="music-controls">
            <button onclick="toggleMusic('okamachi')" id="btn_okamachi" class="music-btn">â™ª å²¡ç”ºå•†åº—è¡—ã®å”„</button>
            <button onclick="toggleMusic('kouka')" id="btn_kouka" class="music-btn">â™ª æ¡œå¡šæ ¡æ­Œ</button>
        </div>
    </header>

    <nav class="contents-index">
        <h2>ç›®æ¬¡ä¸€è¦§</h2>
        <ul style="list-style:none; padding:0;">
            <li><a href="#section_vol1">ğŸŒ¸ ç¬¬1å› åŒæœŸä¼š(1996)</a></li>
            <li><a href="#section_vol7">ğŸŒ¸ ç¬¬7å› é‚„æš¦åŒæœŸä¼š(2018)</a></li>
            <li><a href="#section_vol8_360">ğŸŒ¸ ç¬¬8å› 360Â°å‹•ç”»ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–</a></li>
            <li><a href="#section_vol8_photo">ğŸŒ¸ å…¥å­¦50å‘¨å¹´è¨˜å¿µ å†™çœŸé›†</a></li>
            <li><a href="#section_archive">ğŸŒ¸ ç‰¹åˆ¥ä»˜éŒ²ï¼ˆåç°¿ãƒ»ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–è³‡æ–™ï¼‰</a></li>
        </ul>
    </nav>

    <div id="section_vol1" class="section-header">
        <div class="oval-title">ç¬¬1å› åŒæœŸä¼š (1996å¹´) æ–¼ è±Šä¸­å¸‚æ°‘ä¼šé¤¨</div>
    </div>
    <ul class="video-list">
        <li class="video-item"><div class="video-thumb"><img src="thumb_vol1.jpg"></div><div class="video-no">01</div><div class="video-info"><span class="video-title">ä¼šå ´ãƒ“ãƒ‡ã‚ªï¼ˆå’æ¥­20å‘¨å¹´ï¼‰</span><br><span class="creator-tag">Produced by å’Œç”°å±•æ˜å›</span></div><a href="https://youtu.be/hed3nsWlo7E" class="play-btn" target="_blank">å†ç”Ÿ</a></li>
    </ul>

    <div id="section_vol7" class="section-header">
        <div class="oval-title">ç¬¬7å› é‚„æš¦è¨˜å¿µåŒæœŸä¼š (2018å¹´) æ–¼ åƒé‡Œé˜ªæ€¥ãƒ›ãƒ†ãƒ«</div>
    </div>
    <ul class="video-list">
        <li class="video-item"><div class="video-thumb"><img src="thumb_vol7_photo.jpg"></div><div class="video-no">08</div><div class="video-info"><span class="video-title">é‚„æš¦åŒæœŸä¼šå†™çœŸ 211æš</span><br><span class="creator-tag">Supervised by ä¹¾å›</span></div><a href="https://photos.google.com/share/AF1QipPd0oXTi8rxDRzyGjlQTJRIzoJYmCkkbLnPweTdGR1wj7xGQdMzRP5wUacBp5rYDw?key=dlJKTTJOZm9PRW5ORVprU043SW9OdEV5NUpUdVVB" class="play-btn" target="_blank">é–²è¦§</a></li>
        <li class="video-item"><div class="video-thumb"><img src="thumb_vol7_video.jpg"></div><div class="video-no">10</div><div class="video-info"><span class="video-title">é‚„æš¦åŒæœŸä¼š å‹•ç”» 12æœ¬</span><br><span class="creator-tag">Supervised by ä¹¾å›</span></div><a href="https://photos.google.com/share/AF1QipNBlLjXYrJGCuXU8hJr645hPFw53uYycvRoJ808PLGRM-9rkJyE2wjDCJUSHrSIwA?key=SHpjQW8xRlZPOE5mQ19PVGljaVZRS0pGUlZjVVB3" class="play-btn" target="_blank">é–²è¦§</a></li>
    </ul>

    <div id="section_vol8_360" class="section-header">
        <div class="oval-title">ç¬¬8å› 360Â°å‹•ç”»ã‚¢ãƒ¼ã‚«ã‚¤ãƒ– (2023å¹´)</div>
    </div>
    <ul class="video-list">
        <script>
            const v360 = [
                {no:"01", title:"å—ä»˜å‰", time:"11:42ã€œ", url:"https://youtu.be/rxbp8wEeMsQ"},
                {no:"02", title:"å—ä»˜ä¸­", time:"11:55ã€œ", url:"https://youtu.be/fW8Ealkxj5o"},
                {no:"03", title:"é–‹ä¼šæŒ¨æ‹¶ãƒ»1å¹´å¸­", time:"12:10ã€œ", url:"https://youtu.be/we5isrYUz5c"},
                {no:"04", title:"1å¹´ã‚¯ãƒ©ã‚¹æ­“è«‡", time:"12:18ã€œ", url:"https://youtu.be/BG1l0Yqfl2U"},
                {no:"05", title:"1å¹´ã‚¯ãƒ©ã‚¹æ­“è«‡", time:"12:24ã€œ", url:"https://youtu.be/YrMtlCD_6dc"},
                {no:"06", title:"1å¹´å¸­ãƒ»å±•ç¤ºç‰©", time:"13:21ã€œ", url:"https://youtu.be/JI5FtwazCpQ"},
                {no:"07", title:"å±•ç¤ºç‰©é–²è¦§", time:"13:22ã€œ", url:"https://youtu.be/1VCm0gowwQ0"},
                {no:"08", title:"2å¹´ã‚¯ãƒ©ã‚¹æ­“è«‡", time:"13:33ã€œ", url:"https://youtu.be/n2e0zfEq1BI"},
                {no:"09", title:"2å¹´ã‚¯ãƒ©ã‚¹æ­“è«‡", time:"13:35ã€œ", url:"https://youtu.be/dHItCfY9Hxw"},
                {no:"10", title:"3å¹´å¸­ãƒ»ã‚¨ãƒ³ã‚¿ãƒ¡", time:"14:22ã€œ", url:"https://youtu.be/egTtcC_cE8w"},
                {no:"11", title:"ã‚¨ãƒ³ã‚¿ãƒ¡ãƒ•ã‚©ãƒ¼ç ”", time:"14:30ã€œ", url:"https://youtu.be/BY6I7QyYyMY"},
                {no:"12", title:"ã‚¨ãƒ³ã‚¿ãƒ¡æœ¨ç”°ãƒ»é‡‘ãƒ¶æ±Ÿ", time:"14:38ã€œ", url:"https://youtu.be/HiBOH3Cg3CQ"},
                {no:"13", title:"ã‚¨ãƒ³ã‚¿ãƒ¡é‡‘ãƒ¶æ±Ÿ", time:"14:42ã€œ", url:"https://youtu.be/fsGqOCG7vGM"},
                {no:"14", title:"ä¼Šä¸¹å›æŒ¨æ‹¶_é–‰ä¼š", time:"15:12ã€œ", url:"https://youtu.be/RS3-GnjuuPw"},
                {no:"15", title:"ä¸­ä½å›ãƒ»é›†åˆå†™çœŸ", time:"15:20ã€œ", url:"https://youtu.be/QbrGknQ9_Tw"},
                {no:"16", title:"é›†åˆå†™çœŸãƒ»æ’¤å", time:"15:25ã€œ", url:"https://youtu.be/jClSRHMiUAg"},
                {no:"17", title:"ä¼šå ´å‰1", time:"15:41ã€œ", url:"https://youtu.be/GWNV_YlNytE"},
                {no:"18", title:"ä¼šå ´å‰2", time:"15:47ã€œ", url:"https://youtu.be/pTzXHN2lr-E"},
                {no:"19", title:"ä¼šå ´å‰3", time:"15:57ã€œ", url:"https://youtu.be/zZRwk60moYQ"},
                {no:"20", title:"é›†åˆå†™çœŸãƒ‰ãƒ­ãƒ¼ãƒ³", time:"15:25ã€œ", url:"https://youtu.be/LIr4MjMuEuo"},
                {no:"21", title:"äºŒæ¬¡ä¼šå ´1", time:"16:26ã€œ", url:"https://www.youtube.com/watch?v=hbPB4Rtb038"}
            ];
            v360.forEach(v => {
                document.write(`<li class="video-item"><div class="video-thumb"><img src="thumb_${v.no}.jpg"></div><div class="video-no">${v.no}</div><div class="video-info"><span style="font-size:0.7em;color:#888;">${v.time}</span><br><span class="video-title">${v.title}</span><br><span class="creator-tag">Produced by è—¤ç”°</span></div><a href="${v.url}" class="play-btn" target="_blank">å†ç”Ÿ</a></li>`);
            });
        </script>
    </ul>

    <div id="section_vol8_photo" class="section-header">
        <div class="oval-title">å…¥å­¦50å‘¨å¹´è¨˜å¿µ åŒæœŸä¼š å†™çœŸé›† (2023å¹´)</div>
    </div>
    <ul class="video-list">
        <li class="video-item"><div class="video-thumb"><img src="thumb_02a.jpg"></div><div class="video-no">02a</div><div class="video-info"><span class="video-title">å…¥å­¦50å‘¨å¹´è¨˜å¿µ (é›†åˆå†™çœŸ) 3æš</span><br><span class="creator-tag">Supervised & Edited by ä¹¾å›</span></div><a href="https://photos.google.com/share/AF1QipNXWpVB1wtwLVmoQKd1wiL7hlu9QoVPzzA6XRVGvUxyqAvj7EXtBiWe3StDEq_66Q?key=Q1NraHhZZGE1MGVBUUZXR3JPQVdLU21MbXR6X0p3" class="play-btn" target="_blank">é–²è¦§</a></li>
        <li class="video-item"><div class="video-thumb"><img src="thumb_02b.jpg"></div><div class="video-no">02b</div><div class="video-info"><span class="video-title">å…¥å­¦50å‘¨å¹´è¨˜å¿µ (é–‹æ¼”ï½é–‰å¹•) 221æš</span><br><span class="creator-tag">Supervised & Edited by ä¹¾å›</span></div><a href="https://photos.google.com/share/AF1QipOsnKd7VXhJz79Cq8wl_S0jaPJN1LNg8-T93k5b_pkGitldHA1M1RMx9PRflHRD1w?key=c3hDSHJSMFRpa09RTS1ISEpIWkV0RHZfbHA4X3NR" class="play-btn" target="_blank">é–²è¦§</a></li>
        <li class="video-item"><div class="video-thumb"><img src="thumb_02c.jpg"></div><div class="video-no">02c</div><div class="video-info"><span class="video-title">å…¥å­¦50å‘¨å¹´è¨˜å¿µ (â˜…å†™çœŸæŠ•ç¨¿ç”¨)</span><br><span class="creator-tag">Supervised & Edited by ä¹¾å›</span></div><a href="https://photos.google.com/share/AF1QipMJYHLWBKfYQsFp1YFy3hGkbgT3sLxImIwIOULbwddzf_WNrv6_Q_9gdg6Nd-S8KQ?key=dF9Vb252ZExJbEtIN0QxUmlKcHRUU2V0emhQWFJR" class="play-btn" target="_blank">é–²è¦§</a></li>
    </ul>

    <div id="section_archive" class="section-header">
        <div class="oval-title">ç‰¹åˆ¥ä»˜éŒ²ï¼šåŒæœŸç”Ÿãƒ»è³‡æ–™ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–</div>
    </div>
    <div class="search-area">
        <h3 style="color:#d65f82; margin-top:0; font-size: 16px;">ğŸ” ã‚¯ãƒ©ã‚¹åç°¿ãƒ»å€‹åˆ¥å†™çœŸæ¤œç´¢</h3>
        <div class="search-controls">
            <input type="text" id="searchInput" class="search-box full-width" placeholder="åå‰ãƒ»ãƒ•ãƒªã‚¬ãƒŠã§æ¤œç´¢...">
            <select id="classSelect" class="search-box">
                <option value="">å…¨çµ„</option>
                <optgroup label="3å¹´"><script>for(i=1;i<=10;i++)document.write(`<option value="3-${i}">3å¹´${i}çµ„</option>`)</script></optgroup>
            </select>
            <select id="genderSelect" class="search-box">
                <option value="">æ€§åˆ¥</option><option value="ç”·">ç”·æ€§</option><option value="å¥³">å¥³æ€§</option>
            </select>
            <select id="sortOrder" class="search-box full-width"><option value="name">äº”åéŸ³é †</option><option value="class">ã‚¯ãƒ©ã‚¹é †</option></select>
        </div>
        <div id="searchResult" class="search-result"></div>
    </div>

    <ul class="video-list">
        <li class="video-item"><div class="video-thumb"><img src="thumb_03a.jpg"></div><div class="video-no">03a</div><div class="video-info"><span class="video-title">1å¹´ï½3å¹´ã®ã‚¯ãƒ©ã‚¹å†™çœŸ 30æš</span><br><span class="creator-tag">Supervised & Edited by ä¹¾å›</span></div><a href="https://photos.google.com/share/AF1QipNeVEFFT83FTDV2s_FvJNZ_NdRB8-4POP1Js8RrUDkX0nX9hbHnAWXRZPB3ABYqLA?key=TlRCZ3FJdnlGYV91WEpENXFNcjRzTTMyRlh5Tl9n" class="play-btn" target="_blank">é–²è¦§</a></li>
        <li class="video-item"><div class="video-thumb"><img src="thumb_03b.jpg"></div><div class="video-no">03b</div><div class="video-info"><span class="video-title">å’æ¥­ã‚¢ãƒ«ãƒãƒ ãƒ»A3ãƒ¢ãƒã‚¯ãƒ­ 31æš</span><br><span class="creator-tag">Supervised & Edited by ä¹¾å›</span></div><a href="https://photos.google.com/share/AF1QipOUEy2nbtNarE9XjsjZUjTRHBFabFUiA_3-9pdVZ6PzIT3exWu93zwPCxQwN0V85A?key=alR4ckRGZFF4Y1gtR2VQVURuV0YyT3EzdDFYUzhB" class="play-btn" target="_blank">é–²è¦§</a></li>
        <li class="video-item"><div class="video-thumb"><img src="thumb_03c.jpg"></div><div class="video-no">03c</div><div class="video-info"><span class="video-title">å’æ¥­ã‚¢ãƒ«ãƒãƒ è‰²ã€…ãƒ»ã‚«ãƒ©ãƒ¼ 196æš</span><br><span class="creator-tag">Supervised & Edited by ä¹¾å›</span></div><a href="https://photos.google.com/share/AF1QipO-h9Pu4J28t8zoS_x6xafuU2QjVfFs5CaoakWfM4X242BcaMsGBL7WOwNlg2PZoQ?key=QWdoNkttRUw2Zzg1a05heFJSYnc3bUZOUFVjNllR" class="play-btn" target="_blank">é–²è¦§</a></li>
        <li class="video-item"><div class="video-thumb"><img src="thumb_03d.jpg"></div><div class="video-no">03d</div><div class="video-info"><span class="video-title">1å¹´ï½3å¹´ã®ã‚¯ãƒ©ã‚¹åç°¿</span><br><span class="creator-tag">Supervised & Edited by ä¹¾å›</span></div><a href="https://photos.google.com/share/AF1QipOxk3cmfyjzpaZO-8M6za-SinsS6aB43S2b7c1P-eyuMp9xdw2pjygVyqE7CqYwAQ?key=VXVnOUQwZEJweTZjanBBaVg1NlltVUJDTzdQMzVR" class="play-btn" target="_blank">é–²è¦§</a></li>
        <li class="video-item"><div class="video-thumb"><img src="thumb_03e.jpg"></div><div class="video-no">03e</div><div class="video-info"><span class="video-title">ä¼Šä¸¹å›ä½œæˆãƒ»æ—§æ ¡èˆå¾©å…ƒå›³</span><br><span class="creator-tag">Artworks by ä¼Šä¸¹å›</span></div><a href="https://photos.google.com/share/AF1QipMgEp4Wg8RWwdfI6dPeeXkAd5sZchJAnhimAzf-1uN3Y1kj0TrEFRKHbYWO7DGWxw?key=R01hTVBsOE50T3pHbGtVN0dvcDl3YjVaR29qTE5B" class="play-btn" target="_blank">é–²è¦§</a></li>
        <li class="video-item"><div class="video-thumb"><img src="thumb_03f.jpg"></div><div class="video-no">03f</div><div class="video-info"><span class="video-title">æ¡œå¡šé«˜æ ¡ã®å†™çœŸä»Šæ˜” 52æš</span><br><span class="creator-tag">Supervised & Edited by ä¹¾å›</span></div><a href="https://photos.google.com/share/AF1QipNo1u_GJM2kfGJHfMMH6TIWjDE-dKTN_lRwGvbYiQwhA25vGCtayJMWEulYC5zbHA?key=V21IbnNzdGNYRjZGZ2xCQVM4dXZQNUw2a3VPTUF3" class="play-btn" target="_blank">é–²è¦§</a></li>
        <li class="video-item"><div class="video-thumb"><img src="thumb_03g.jpg"></div><div class="video-no">03g</div><div class="video-info"><span class="video-title">ã€å‹•ç”» æ¡œå¡šé«˜æ ¡ã®æ­´å²ã€‘</span><br><span class="creator-tag">Supervised & Edited by ä¹¾å›</span></div><a href="https://photos.google.com/share/AF1QipO5cOi_QfPmECzO0Qc58xj8W_mKTqKU-sQ_du7_8Jax259Yc__KTIHgq0H1bh7TuQ?key=WVdLb2tPbmU3enc2SkhfX3NXWWhPQlZFQ3VpR2hn" class="play-btn" target="_blank">é–²è¦§</a></li>
    </ul>

    <footer><p>Â© 2026 æ¡œå¡šé«˜æ ¡28æœŸ åŒçª“ä¼šå®Ÿè¡Œå§”å“¡ä¼š</p></footer>
</div>

<script>
    const SHEET_CSV_URL = "https://docs.google.com/spreadsheets/d/e/2PACX-1vTzLqpB8e6tiN06L-urFd1agctJ6JIlfJQW-JcybZ_VrVYOh7D9uwk6PlIlO8wCpcQKVyUKRJOnchn-/pub?gid=0&single=true&output=csv";
    const PHOTO_MASTER_URL = "https://docs.google.com/spreadsheets/d/e/2PACX-1vQxm8bS1RxZlhBjac5oQrMUVpurJbcYUKCPyMAl5Ut26gJ4U-g6pbvdlJryP1c2rUJsWt0eJm-H0Nee/pub?gid=0&single=true&output=csv";

    let memberData = [];
    let photoMap = {};

    function createSakura() {
        const p = document.createElement('div'); p.className = 'sakura-petal';
        p.style.left = Math.random() * 100 + 'vw';
        p.style.animationDuration = (Math.random() * 3 + 5) + 's';
        document.getElementById('sakura-container').appendChild(p);
        setTimeout(() => p.remove(), 8000);
    }
    setInterval(createSakura, 200);

    function toggleMusic(t) {
        const a = document.getElementById('audio_'+t);
        const b = document.getElementById('btn_'+t);
        if(!a.paused){ a.pause(); b.classList.remove('playing'); }
        else { a.play(); b.classList.add('playing'); }
    }

    async function initData() {
        try {
            const resP = await fetch(PHOTO_MASTER_URL);
            const txtP = await resP.text();
            txtP.split(/\r?\n/).forEach(l => {
                const c = l.split(',');
                if(c[0]) photoMap[c[0].trim().replace(/[å¹´çµ„]/g, '-').replace(/-0/g, '-').replace(/-$/, '')] = (c[1] || "").trim();
            });

            const resM = await fetch(SHEET_CSV_URL);
            const txtM = await resM.text();
            const rows = txtM.split(/\r?\n/).slice(1);
            const clean = (v) => v ? v.replace(/[å¹´çµ„æœˆæ—¥]/g, '-').replace(/-0/g, '-').replace(/-$/, '').trim() : "";

            memberData = rows.map(r => {
                const c = r.split(',');
                const c1 = clean(c[2]), c2 = clean(c[4]), c3 = clean(c[6]);
                const getLink = (grade, cls, csvL) => (csvL && csvL.startsWith('http')) ? csvL.trim() : photoMap[`${grade}-${cls.split('-').pop()}`] || "";
                return {
                    name: (c[0]||"").trim(), kana: (c[1]||"").trim(), gender: (c[8]||"").trim(),
                    c1, c2, c3,
                    link1: getLink(1, c1, c[3]), link2: getLink(2, c2, c[5]), link3: getLink(3, c3, c[7])
                };
            }).filter(m => m.name);
        } catch (e) { console.error(e); }
    }

    function performSearch() {
        const selClass = document.getElementById('classSelect').value.replace('å¹´','-').replace('çµ„','');
        const selGender = document.getElementById('genderSelect').value;
        const sortMode = document.getElementById('sortOrder').value;
        const q = document.getElementById('searchInput').value.trim();
        const out = document.getElementById('searchResult');
        out.innerHTML = '';
        if(!selClass && !selGender && !q) return;

        let filtered = memberData.filter(m => {
            const cM = !selClass || (m.c1===selClass || m.c2===selClass || m.c3===selClass);
            const gM = !selGender || (m.gender === selGender);
            const qM = !q || (m.name.includes(q) || m.kana.includes(q));
            return cM && gM && qM;
        });

        filtered.sort((a, b) => sortMode==='name' ? a.kana.localeCompare(b.kana,'ja') : a.c3.localeCompare(b.c3));

        filtered.forEach(m => {
            const div = document.createElement('div'); div.className = 'result-item';
            const gTag = m.gender ? `<span class="gender-tag ${m.gender==='ç”·'?'gender-m':'gender-f'}">${m.gender}</span>` : '';
            
            // ğŸŒ¸ ã‚¯ãƒ©ã‚¹ãƒœã‚¿ãƒ³ã®è¡¨è¨˜ã‚’ã€Œ1-10ã€å½¢å¼ã«ä¿®æ­£
            let btns = '<div>';
            if(m.link1) btns += `<a href="${m.link1}" class="class-btn" target="_blank">${m.c1}</a>`;
            if(m.link2) btns += `<a href="${m.link2}" class="class-btn" target="_blank">${m.c2}</a>`;
            if(m.link3) btns += `<a href="${m.link3}" class="class-btn" target="_blank">${m.c3}</a>`;
            btns += '</div>';

            div.innerHTML = `<div class="result-info"><span class="result-name">${m.name}</span><span class="result-kana">${m.kana}</span>${gTag}</div>${btns}`;
            out.appendChild(div);
        });
    }

    ['searchInput', 'classSelect', 'genderSelect', 'sortOrder'].forEach(id => {
        document.getElementById(id).addEventListener(id==='searchInput'?'input':'change', performSearch);
    });

    document.addEventListener('DOMContentLoaded', () => {
        initData();
        setTimeout(() => document.body.style.opacity = "1", 100);
    });
</script>
</body>
</html>
